@page "/calendar"
@layout MobileLayout
@inject IStringLocalizer<SharedResources> Localizer

<PageTitle>@Localizer["Calendar"] - Feediary</PageTitle>

<div class="page-header">
    <h1 class="page-title">@Localizer["FeedingCalendar"]</h1>
    <p class="page-subtitle">@Localizer["TrackSchedule"]</p>
</div>

<div class="calendar-container">
    <div class="calendar-header">
        <button class="nav-btn" @onclick="PreviousMonth">&lt;</button>
        <h2 class="month-year">@GetMonthYearDisplay()</h2>
        <button class="nav-btn" @onclick="NextMonth">&gt;</button>
    </div>
    
    <div class="calendar-grid">
        <div class="day-headers">
            <div class="day-header">@Localizer["Sunday"]</div>
            <div class="day-header">@Localizer["Monday"]</div>
            <div class="day-header">@Localizer["Tuesday"]</div>
            <div class="day-header">@Localizer["Wednesday"]</div>
            <div class="day-header">@Localizer["Thursday"]</div>
            <div class="day-header">@Localizer["Friday"]</div>
            <div class="day-header">@Localizer["Saturday"]</div>
        </div>
        
        <div class="calendar-days">
            @foreach (var day in GetCalendarDays())
            {
                <div class="calendar-day @(day.IsCurrentMonth ? "current-month" : "other-month") @(day.Date == today ? "today" : "")">
                    <div class="day-number">@day.Date.Day</div>
                    @if (day.FeedingCount > 0)
                    {
                        <div class="feeding-count">@day.FeedingCount</div>
                    }
                </div>
            }
        </div>
    </div>
</div>

<div class="today-summary">
    <h3>@Localizer["TodaysSummary"]</h3>
    <div class="summary-stats">
        <div class="stat">
            <span class="stat-value">@TodaysFeedingCount</span>
            <span class="stat-label">@Localizer["Feedings"]</span>
        </div>
        <div class="stat">
            <span class="stat-value">@GetLastFeedingTime()</span>
            <span class="stat-label">@Localizer["Last"]</span>
        </div>
        <div class="stat">
            <span class="stat-value">@GetNextFeedingTime()</span>
            <span class="stat-label">@Localizer["Next"]</span>
        </div>
    </div>
</div>